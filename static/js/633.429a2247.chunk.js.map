{"version":3,"file":"static/js/633.429a2247.chunk.js","mappings":"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","sources":["components/ContactForm/ContactForm.jsx","components/EditForm/EditForm.jsx","components/Popover/Popover.jsx","utils/formatContact.js","components/ContactItem/ContactItem.jsx","components/ContactList/ContactList.jsx","components/Filter/Filter.jsx","pages/Contacts.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { addContact } from 'redux/contacts/contactsOperations';\nimport { getContacts } from 'redux/selectors';\nimport { toast } from 'react-toastify';\nimport {\n  Button,\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  Heading,\n  Input,\n  VStack,\n  useColorModeValue,\n} from '@chakra-ui/react';\n\nexport const schema = yup\n  .object({\n    name: yup\n      .string()\n      .required('Name is required')\n      .min(3, 'Name must be no less than 3 characters long')\n      .matches(\n        /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/,\n        'Name may contain only letters, apostrophe, dash and spaces'\n      ),\n    number: yup\n      .string()\n      .required('Number is required')\n      .transform(currentValue => currentValue.replace(/\\D+/g, ''))\n      .min(7, 'Number phone must be no less than 7 characters long')\n      .max(12, 'Number phone must be no more than 12 digits'),\n    // .matches(\n    //   /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/,\n    //   'Phone number must be digits and can contain spaces, dashes, parentheses and can start with +'\n    // ),\n  })\n  .required();\n\nexport const ContactForm = () => {\n  // const [isClicked, setIsClicked] = useState(false);\n  const dispatch = useDispatch();\n  const contacts = useSelector(getContacts);\n  // const isLoading = useSelector(getLoading);\n\n  // useEffect(() => {\n  //   if (!isLoading) {\n  //     setIsClicked(false);\n  //   }\n  // }, [isLoading]);\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm({\n    mode: 'onTouched',\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = ({ name, number }) => {\n    // setIsClicked(true);\n    if (\n      contacts.find(\n        contact => contact.name.toLowerCase() === name.toLowerCase()\n      )\n    ) {\n      return toast.warn(`${name} is already in contacts`);\n    }\n\n    dispatch(addContact({ name, number }));\n    reset();\n  };\n\n  const bg = useColorModeValue('teal.50', '#0a192f');\n\n  return (\n    <VStack\n      onSubmit={handleSubmit(onSubmit)}\n      as=\"form\"\n      mx=\"auto\"\n      justifyContent=\"center\"\n      mb={6}\n      p=\"4\"\n      maxH=\"fit\"\n    >\n      <Heading>Create new contact</Heading>\n\n      <FormControl isInvalid={errors.name} isRequired>\n        <FormLabel fontWeight=\"600\">Name</FormLabel>\n        <Input type=\"text\" {...register('name')} bg={bg} />\n        <FormErrorMessage>\n          {errors.name && errors.name.message}\n        </FormErrorMessage>\n      </FormControl>\n\n      <FormControl isInvalid={errors.number} isRequired>\n        <FormLabel fontWeight=\"600\">Phone</FormLabel>\n        <Input type=\"tel\" {...register('number')} bg={bg} />\n        <FormErrorMessage>\n          {errors.number && errors.number.message}\n        </FormErrorMessage>\n      </FormControl>\n\n      <Button type=\"submit\" variant=\"outline\" colorScheme=\"teal\">\n        Add contact\n      </Button>\n    </VStack>\n\n    // <form onSubmit={handleSubmit(onSubmit)}>\n    //   <div>\n    //     <label>Name</label>\n    //     <input type=\"text\" {...register('name')} />\n    //     {formState.errors.name && <p>{formState.errors.name.message}</p>}\n    //   </div>\n\n    //   <div>\n    //     <label>Phone</label>\n    //     <input type=\"tel\" {...register('number')} />\n    //     {formState.errors.number && <p>{formState.errors.number.message}</p>}\n    //   </div>\n\n    //   <button\n    //     type=\"submit\"\n    //     disabled={(isLoading && isClicked) || !formState.isValid}\n    //   >\n    //     <span>Add contact</span>\n    //     {isLoading && isClicked && (\n    //       <RotatingLines strokeColor=\"grey\" width=\"20px\" />\n    //     )}\n    //   </button>\n    // </form>\n  );\n};\n","import {\n  Button,\n  ButtonGroup,\n  FormControl,\n  FormLabel,\n  Input,\n  VStack,\n  useColorModeValue,\n} from '@chakra-ui/react';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { schema } from 'components/ContactForm/ContactForm';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { updateContact } from 'redux/contacts/contactsOperations';\n\nexport const EditForm = ({ onCancel, contact }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting, isValid },\n  } = useForm({\n    mode: 'onTouched',\n    resolver: yupResolver(schema),\n  });\n\n  const dispatch = useDispatch();\n\n  const onSubmit = data => {\n    const { name, number } = data;\n    dispatch(updateContact({ id: contact.id, body: { name, number } }))\n      .unwrap()\n      .then(() => {\n        toast.success(`Contact updated`);\n        onCancel();\n      })\n      .catch(() => toast.error(`Something went wrong. Please try again later`));\n  };\n\n  const bg = useColorModeValue('teal.50', '#0a192f');\n  return (\n    <VStack as=\"form\" spacing={4} onSubmit={handleSubmit(onSubmit)} p={6}>\n      <FormControl isInvalid={errors.name} isRequired>\n        <FormLabel>Name</FormLabel>\n        <Input\n          type=\"text\"\n          {...register('name')}\n          defaultValue={contact?.name}\n          bg={bg}\n        />\n        {/*  */}\n        {/* <FormErrorMessage>\n          {errors.name && toast.error(`${errors.name.message}`)}\n        </FormErrorMessage> */}\n      </FormControl>\n\n      <FormControl isInvalid={errors.number} isRequired>\n        <FormLabel>Phone</FormLabel>\n        <Input\n          type=\"tel\"\n          {...register('number')}\n          defaultValue={contact?.number}\n          bg={bg}\n        />\n        {/* <FormErrorMessage>\n          <Box>{errors.number && errors.number.message}</Box>\n        </FormErrorMessage> */}\n      </FormControl>\n\n      <ButtonGroup display=\"flex\" justifyContent=\"flex-end\">\n        <Button onClick={onCancel} variant=\"outline\" colorScheme=\"teal\">\n          Cancel\n        </Button>\n        <Button\n          isLoading={isSubmitting}\n          type=\"submit\"\n          isDisabled={!isValid}\n          colorScheme=\"teal\"\n        >\n          Save\n        </Button>\n      </ButtonGroup>\n    </VStack>\n  );\n};\n","import { EditForm } from 'components/EditForm/EditForm';\n\nconst { EditIcon } = require('@chakra-ui/icons');\nconst {\n  useDisclosure,\n  Popover,\n  PopoverTrigger,\n  IconButton,\n  PopoverContent,\n  FocusLock,\n  PopoverArrow,\n  PopoverCloseButton,\n} = require('@chakra-ui/react');\n\nconst { useRef } = require('react');\n\nexport const PopoverForm = ({ contact }) => {\n  const { onOpen, onClose, isOpen } = useDisclosure();\n  const firstFieldRef = useRef(null);\n\n  return (\n    <>\n      <Popover\n        isOpen={isOpen}\n        initialFocusRef={firstFieldRef}\n        onOpen={onOpen}\n        onClose={onClose}\n        placement=\"right\"\n        closeOnBlur={true}\n      >\n        <PopoverTrigger>\n          <IconButton\n            w={8}\n            h={8}\n            icon={<EditIcon />}\n            variant=\"outline\"\n            colorScheme=\"teal\"\n          />\n        </PopoverTrigger>\n        <PopoverContent>\n          <FocusLock returnFocus persistentFocus={false}>\n            <PopoverArrow />\n            <PopoverCloseButton />\n            <EditForm onCancel={onClose} contact={contact} />\n          </FocusLock>\n        </PopoverContent>\n      </Popover>\n    </>\n  );\n};\n","export const formatContact = contact => {\n  let newContact;\n  if (contact.replace(/\\D+/g, '').length === 12) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{2})(\\d{3})(\\d{4}).*/, '+$1-$2-$3-$4');\n  } else if (contact.replace(/\\D+/g, '').length === 11) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{2})(\\d{2})(\\d{3})(\\d{4}).*/, '+$1-$2-$3-$4');\n  } else if (contact.replace(/\\D+/g, '').length === 10) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{3})(\\d{4}).*/, '$1-$2-$3');\n  } else if (contact.replace(/\\D+/g, '').length === 9) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{2})(\\d{3})(\\d{4}).*/, '$1-$2-$3');\n  } else if (contact.replace(/\\D+/g, '').length === 7) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{4}).*/, '$1-$2');\n  } else newContact = contact;\n\n  return newContact;\n};\n","import { DeleteIcon } from '@chakra-ui/icons';\nimport { Button, CircularProgress, Flex, Td, Tr } from '@chakra-ui/react';\nimport { PopoverForm } from 'components/Popover/Popover';\nimport { PropTypes } from 'prop-types';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deleteContact } from 'redux/contacts/contactsOperations';\nimport { formatContact } from 'utils';\n\nexport const ContactItem = ({ contact }) => {\n  const [isDeleting, setIsDeleting] = useState(false);\n  const dispatch = useDispatch();\n\n  return (\n    <Tr key={contact.id}>\n      <Td p={{ base: '5px', md: '8px' }}>{contact.name}</Td>\n      <Td p={{ base: '5px', md: '8px' }}>{formatContact(contact.number)}</Td>\n      <Td p={{ base: '5px', md: '8px' }}>\n        <Flex gap=\"2\" alignItems=\"center\" justifyContent=\"flex-end\">\n          <PopoverForm contact={contact} />\n          <Button\n            type=\"button\"\n            onClick={() => {\n              dispatch(deleteContact(contact.id));\n              setIsDeleting(true);\n            }}\n            disabled={isDeleting}\n            p={0}\n            w={8}\n            h={8}\n            variant=\"outline\"\n            colorScheme=\"teal\"\n          >\n            {isDeleting ? (\n              <CircularProgress isIndeterminate color=\"teal.800\" size=\"16px\" />\n            ) : (\n              <DeleteIcon boxSize={4} p=\"0\" />\n            )}\n          </Button>\n        </Flex>\n      </Td>\n    </Tr>\n    // <li key={contact.id}>\n    //   <span>{contact.name}: </span>\n    //   <span>{formatContact(contact.number)}</span>\n    //   <PopoverForm contact={contact} />\n    //   <button\n    //     type=\"button\"\n    //     onClick={() => {\n    //       dispatch(deleteContact(contact.id));\n    //       setIsDeleting(true);\n    //     }}\n    //     disabled={isDeleting}\n    //   >\n    //     {isDeleting ? <span>deleting...</span> : <DeleteIcon />}\n    //   </button>\n    // </li>\n  );\n};\n\nContactItem.propTypes = {\n  contact: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    number: PropTypes.string.isRequired,\n  }),\n};\n","import { ContactItem } from 'components/ContactItem/ContactItem';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchContacts } from 'redux/contacts/contactsOperations';\nimport { getContacts, getFilter, getLoading } from 'redux/selectors';\nimport {\n  Center,\n  CircularProgress,\n  Table,\n  TableContainer,\n  Tbody,\n  Text,\n  Th,\n  Thead,\n  Tr,\n  useColorModeValue,\n} from '@chakra-ui/react';\n\nexport const ContactList = () => {\n  const dispatch = useDispatch();\n  const contacts = useSelector(getContacts);\n  const filter = useSelector(getFilter);\n  const isLoading = useSelector(getLoading);\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  const getVisibleContacts = () => {\n    let normalizedFilter = filter.toLowerCase();\n    return contacts.filter(contact =>\n      contact?.name.toLowerCase().includes(normalizedFilter)\n    );\n  };\n\n  const bg = useColorModeValue('#ffffff', '#172a46');\n  const boxShadow = useColorModeValue(\n    '#086F83 0px 0px 10px',\n    '#5ff0d0 0px 0px 10px'\n  );\n  const color = useColorModeValue('gray.600', '#5ff0d0');\n\n  return (\n    <div>\n      {/* {error && <p>Something went wrong, please try again later</p>} */}\n      {contacts.length === 0 && isLoading && (\n        <Center>\n          <CircularProgress isIndeterminate color=\"teal.800\" />\n        </Center>\n      )}\n\n      {contacts.length === 0 && !isLoading && (\n        <Text textAlign=\"center\" fontSize=\"2xl\">\n          There are no contacts yet. Please add a new contact\n        </Text>\n      )}\n      {getVisibleContacts().length === 0 && contacts.length !== 0 && (\n        <Text>There is no such contact</Text>\n      )}\n\n      {contacts.length !== 0 && getVisibleContacts().length > 0 && (\n        // <ul>\n        //   {getVisibleContacts().map(contact => {\n        //     return <ContactItem key={contact.id} contact={contact} />;\n        //   })}\n        //   </ul>\n        <TableContainer\n          borderRadius={10}\n          mb={6}\n          boxShadow={boxShadow}\n          p={4}\n          bg={bg}\n        >\n          <Table colorScheme={color} overflow=\"hidden\" size=\"sm\">\n            <Thead\n              fontWeight=\"600\"\n              fontSize={8}\n              borderBottom=\"2px solid\"\n              borderColor={color}\n            >\n              <Tr borderColor=\"teal.600\">\n                <Th>\n                  <Text fontSize={16} color={color}>\n                    Name\n                  </Text>\n                </Th>\n                <Th colSpan=\"2\">\n                  <Text fontSize={16} color={color}>\n                    Phone number\n                  </Text>\n                </Th>\n              </Tr>\n            </Thead>\n            <Tbody>\n              {getVisibleContacts().map(contact => {\n                return <ContactItem key={contact.id} contact={contact} />;\n              })}\n            </Tbody>\n          </Table>\n        </TableContainer>\n      )}\n    </div>\n  );\n};\n","import { Search2Icon } from '@chakra-ui/icons';\nimport {\n  FormControl,\n  FormLabel,\n  Input,\n  useColorModeValue,\n} from '@chakra-ui/react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setFilter } from 'redux/filterSlice';\nimport { getContacts, getFilter } from 'redux/selectors';\n\nexport const Filter = () => {\n  const filterValue = useSelector(getFilter);\n  const contacts = useSelector(getContacts);\n\n  const dispatch = useDispatch();\n\n  const bg = useColorModeValue('#ffffff', '#172a46');\n  const boxShadow = useColorModeValue(\n    '#086F83 0px 0px 10px',\n    '#5ff0d0 0px 0px 10px'\n  );\n  return (\n    <>\n      {contacts.length !== 0 && (\n        <FormControl mb={6}>\n          <FormLabel fontSize=\"lg\" fontWeight=\"600\">\n            Find contacts by name\n          </FormLabel>\n          <Input\n            name=\"filter\"\n            type=\"text\"\n            value={filterValue}\n            onChange={event => dispatch(setFilter(event.target.value))}\n            pos=\"relative\"\n            bg={bg}\n            boxShadow={boxShadow}\n          />\n          <Search2Icon\n            pos=\"absolute\"\n            top=\"50%\"\n            transform=\"translateY(50%)\"\n            right=\"16px\"\n            zIndex={2}\n          />\n        </FormControl>\n      )}\n    </>\n  );\n};\n","import { Box } from '@chakra-ui/react';\nimport { ContactForm } from 'components/ContactForm/ContactForm';\nimport { ContactList } from 'components/ContactList/ContactList';\nimport { Filter } from 'components/Filter/Filter';\n\nconst Contacts = () => {\n  return (\n    <>\n      <Box display={{ md: 'flex' }} gap={8} alignItems=\"flex-start\">\n        <ContactForm />\n        <Box flexGrow={1}>\n          {/* <Heading fontSize=\"3em\" mb={6}>\n            Contacts\n          </Heading> */}\n          <Filter />\n          <ContactList />\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nexport default Contacts;\n"],"names":["schema","yup","name","required","min","matches","number","transform","currentValue","replace","max","ContactForm","dispatch","useDispatch","contacts","useSelector","getContacts","useForm","mode","resolver","yupResolver","register","handleSubmit","reset","errors","formState","bg","useColorModeValue","onSubmit","find","contact","toLowerCase","toast","addContact","as","mx","justifyContent","mb","p","maxH","isInvalid","isRequired","fontWeight","I","type","message","variant","colorScheme","EditForm","onCancel","isSubmitting","isValid","spacing","data","updateContact","id","body","unwrap","then","catch","defaultValue","display","onClick","isLoading","isDisabled","EditIcon","require","useDisclosure","Popover","PopoverTrigger","IconButton","PopoverContent","FocusLock","PopoverArrow","PopoverCloseButton","useRef","PopoverForm","onOpen","onClose","isOpen","firstFieldRef","initialFocusRef","placement","closeOnBlur","w","h","icon","returnFocus","persistentFocus","formatContact","length","ContactItem","useState","isDeleting","setIsDeleting","Tr","Td","base","md","gap","alignItems","deleteContact","disabled","isIndeterminate","color","size","boxSize","ContactList","filter","getFilter","getLoading","useEffect","fetchContacts","getVisibleContacts","normalizedFilter","includes","boxShadow","textAlign","fontSize","borderRadius","overflow","borderBottom","borderColor","Th","colSpan","map","Filter","filterValue","value","onChange","event","setFilter","target","pos","top","right","zIndex","flexGrow"],"sourceRoot":""}