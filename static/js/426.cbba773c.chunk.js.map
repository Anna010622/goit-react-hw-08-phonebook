{"version":3,"file":"static/js/426.cbba773c.chunk.js","mappings":"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","sources":["components/ContactForm/ContactForm.jsx","components/EditForm/EditForm.jsx","components/Popover/Popover.jsx","utils/formatContact.js","components/AlertDialog/AlertDialog.jsx","components/ContactItem/ContactItem.jsx","components/ContactList/ContactList.jsx","components/Filter/Filter.jsx","pages/Contacts.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { addContact } from 'redux/contacts/contactsOperations';\nimport { selectContacts, selectContactsLoading } from 'redux/selectors';\nimport {\n  Avatar,\n  Button,\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  Heading,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  VStack,\n  useColorModeValue,\n} from '@chakra-ui/react';\nimport { useEffect, useState } from 'react';\nimport { useToast } from '@chakra-ui/react';\nimport { PhoneIcon } from '@chakra-ui/icons';\n\nexport const schema = yup\n  .object({\n    name: yup\n      .string()\n      .required('Name is required')\n      .min(3, 'Name must be no less than 3 characters long')\n      .matches(\n        /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/,\n        'Name may contain only letters, apostrophe, dash and spaces'\n      ),\n    number: yup\n      .string()\n      .required('Number is required')\n      .transform(currentValue => currentValue.replace(/\\D+/g, ''))\n      .min(7, 'Number phone must be no less than 7 characters long')\n      .max(12, 'Number phone must be no more than 12 digits'),\n    // .matches(\n    //   /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/,\n    //   'Phone number must be digits and can contain spaces, dashes, parentheses and can start with +'\n    // ),\n  })\n  .required();\n\nexport const ContactForm = () => {\n  const [isClicked, setIsClicked] = useState(false);\n  const dispatch = useDispatch();\n  const contacts = useSelector(selectContacts);\n  const isLoading = useSelector(selectContactsLoading);\n\n  const toast = useToast();\n  useEffect(() => {\n    if (!isLoading) {\n      setIsClicked(false);\n    }\n  }, [isLoading]);\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm({\n    mode: 'onTouched',\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = ({ name, number }) => {\n    setIsClicked(true);\n    if (\n      contacts.find(\n        contact => contact.name.toLowerCase() === name.toLowerCase()\n      )\n    ) {\n      return toast({\n        title: `${name} is already in contacts`,\n        isClosable: true,\n        position: 'top-right',\n        status: 'info',\n        duration: 3000,\n      });\n    }\n    if (contacts.find(contact => contact.number === number)) {\n      return toast({\n        title: `Number: ${number} is already in contacts`,\n        isClosable: true,\n        position: 'top-right',\n        status: 'info',\n        duration: 3000,\n      });\n    }\n\n    dispatch(addContact({ name, number }))\n      .unwrap()\n      .then(() => {\n        toast({\n          title: `Contact has been added`,\n          isClosable: true,\n          position: 'top-right',\n          status: 'success',\n          duration: 3000,\n        });\n      })\n      .catch(() =>\n        toast({\n          title: `Something went wrong. Please try again later`,\n          isClosable: true,\n          position: 'top-right',\n          status: 'error',\n          duration: 3000,\n        })\n      );\n    reset();\n  };\n\n  const bg = useColorModeValue('teal.50', '#0a192f');\n  const iconBg = useColorModeValue('teal.800', 'teal.500');\n\n  return (\n    <VStack\n      onSubmit={handleSubmit(onSubmit)}\n      as=\"form\"\n      mx=\"auto\"\n      justifyContent=\"center\"\n      mb={6}\n      p=\"4\"\n      maxH=\"fit\"\n    >\n      <Heading>Create new contact</Heading>\n\n      <FormControl isInvalid={errors.name} isRequired>\n        <FormLabel fontWeight=\"600\">Name</FormLabel>\n        <InputGroup>\n          <InputLeftElement pointerEvents=\"none\">\n            <Avatar bg={iconBg} size=\"xs\" />\n          </InputLeftElement>\n          <Input\n            type=\"text\"\n            placeholder=\"Enter contact name\"\n            _placeholder={{ opacity: 0.5, color: 'inherit' }}\n            {...register('name')}\n            bg={bg}\n          />\n        </InputGroup>\n        <FormErrorMessage>\n          {errors.name && errors.name.message}\n        </FormErrorMessage>\n      </FormControl>\n\n      <FormControl isInvalid={errors.number} isRequired>\n        <FormLabel fontWeight=\"600\">Phone</FormLabel>\n        <InputGroup>\n          <InputLeftElement pointerEvents=\"none\">\n            <PhoneIcon color={iconBg} />\n          </InputLeftElement>\n          <Input\n            type=\"tel\"\n            placeholder=\"Enter phone number\"\n            _placeholder={{ opacity: 0.5, color: 'inherit' }}\n            {...register('number')}\n            bg={bg}\n          />\n        </InputGroup>\n        <FormErrorMessage>\n          {errors.number && errors.number.message}\n        </FormErrorMessage>\n      </FormControl>\n\n      <Button\n        type=\"submit\"\n        variant=\"outline\"\n        colorScheme=\"teal\"\n        isLoading={isLoading && isClicked}\n      >\n        Add contact\n      </Button>\n    </VStack>\n  );\n};\n","import {\n  Button,\n  ButtonGroup,\n  FormControl,\n  FormLabel,\n  Input,\n  VStack,\n  useColorModeValue,\n  useToast,\n} from '@chakra-ui/react';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { schema } from 'components/ContactForm/ContactForm';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateContact } from 'redux/contacts/contactsOperations';\nimport { selectContacts } from 'redux/selectors';\n\nexport const EditForm = ({ onCancel, contact }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting, isValid },\n  } = useForm({\n    mode: 'onTouched',\n    resolver: yupResolver(schema),\n  });\n  const contacts = useSelector(selectContacts);\n  const toast = useToast();\n  const dispatch = useDispatch();\n\n  const onSubmit = data => {\n    const { name, number } = data;\n\n    if (contact.name === name && contact.number === number) {\n      return onCancel();\n    }\n    if (\n      contacts.find(\n        contactInList =>\n          contactInList.name.toLowerCase() === name.toLowerCase() &&\n          contactInList.name.toLowerCase() !== contact.name.toLowerCase()\n      )\n    ) {\n      return toast({\n        title: `${name} is already in contacts`,\n        isClosable: true,\n        position: 'top-right',\n        status: 'info',\n        duration: 3000,\n      });\n    }\n    if (\n      contacts.find(\n        contactInList =>\n          contactInList.number === number &&\n          contactInList.number !== contact.number\n      )\n    ) {\n      return toast({\n        title: `${number} is already in contacts`,\n        isClosable: true,\n        position: 'top-right',\n        status: 'info',\n        duration: 3000,\n      });\n    }\n    dispatch(updateContact({ id: contact.id, body: { name, number } }))\n      .unwrap()\n      .then(() => {\n        toast({\n          title: `Contact updated`,\n          isClosable: true,\n          position: 'top-right',\n          status: 'success',\n          duration: 3000,\n        });\n        onCancel();\n      })\n      .catch(() =>\n        toast({\n          title: `Something went wrong. Please try again later`,\n          isClosable: true,\n          position: 'top-right',\n          status: 'error',\n          duration: 3000,\n        })\n      );\n  };\n\n  const bg = useColorModeValue('teal.50', '#0a192f');\n  return (\n    <VStack as=\"form\" spacing={4} onSubmit={handleSubmit(onSubmit)} p={6}>\n      <FormControl isInvalid={errors.name} isRequired>\n        <FormLabel>Name</FormLabel>\n        <Input\n          type=\"text\"\n          {...register('name')}\n          defaultValue={contact?.name}\n          bg={bg}\n        />\n      </FormControl>\n\n      <FormControl isInvalid={errors.number} isRequired>\n        <FormLabel>Phone</FormLabel>\n        <Input\n          type=\"tel\"\n          {...register('number')}\n          defaultValue={contact?.number}\n          bg={bg}\n        />\n      </FormControl>\n\n      <ButtonGroup display=\"flex\" justifyContent=\"flex-end\">\n        <Button onClick={onCancel} variant=\"outline\" colorScheme=\"teal\">\n          Cancel\n        </Button>\n        <Button\n          isLoading={isSubmitting}\n          type=\"submit\"\n          isDisabled={!isValid}\n          colorScheme=\"teal\"\n        >\n          Save\n        </Button>\n      </ButtonGroup>\n    </VStack>\n  );\n};\n","import { EditForm } from 'components/EditForm/EditForm';\n\nconst { EditIcon } = require('@chakra-ui/icons');\nconst {\n  useDisclosure,\n  Popover,\n  PopoverTrigger,\n  IconButton,\n  PopoverContent,\n  FocusLock,\n  PopoverArrow,\n  PopoverCloseButton,\n  Portal,\n} = require('@chakra-ui/react');\n\nconst { useRef } = require('react');\n\nexport const PopoverForm = ({ contact }) => {\n  const { onOpen, onClose, isOpen } = useDisclosure();\n  const firstFieldRef = useRef(null);\n\n  return (\n    <>\n      <Popover\n        isOpen={isOpen}\n        initialFocusRef={firstFieldRef}\n        onOpen={onOpen}\n        onClose={onClose}\n        closeOnBlur={true}\n        // placement=\"left\"\n      >\n        <PopoverTrigger>\n          <IconButton\n            w={8}\n            h={8}\n            icon={<EditIcon />}\n            variant=\"outline\"\n            colorScheme=\"teal\"\n            _hover={{ bg: 'teal.100' }}\n            _focus={{ bg: 'teal.100' }}\n          />\n        </PopoverTrigger>\n        <Portal>\n          <PopoverContent>\n            <FocusLock returnFocus persistentFocus={false}>\n              <PopoverArrow />\n              <PopoverCloseButton />\n              <EditForm onCancel={onClose} contact={contact} />\n            </FocusLock>\n          </PopoverContent>\n        </Portal>\n      </Popover>\n    </>\n  );\n};\n","export const formatContact = contact => {\n  let newContact;\n  if (contact.replace(/\\D+/g, '').length === 12) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{2})(\\d{3})(\\d{4}).*/, '+$1-$2-$3-$4');\n  } else if (contact.replace(/\\D+/g, '').length === 11) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{2})(\\d{2})(\\d{3})(\\d{4}).*/, '+$1-$2-$3-$4');\n  } else if (contact.replace(/\\D+/g, '').length === 10) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{3})(\\d{4}).*/, '$1-$2-$3');\n  } else if (contact.replace(/\\D+/g, '').length === 9) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{2})(\\d{3})(\\d{4}).*/, '$1-$2-$3');\n  } else if (contact.replace(/\\D+/g, '').length === 7) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{4}).*/, '$1-$2');\n  } else newContact = contact;\n\n  return newContact;\n};\n","import { DeleteIcon } from '@chakra-ui/icons';\nimport {\n  AlertDialog,\n  AlertDialogBody,\n  AlertDialogCloseButton,\n  AlertDialogContent,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogOverlay,\n  Button,\n  CircularProgress,\n  useDisclosure,\n} from '@chakra-ui/react';\nimport { PropTypes } from 'prop-types';\nimport { useRef } from 'react';\n\nexport const WarningAlert = ({ onClick, isDeleting }) => {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const cancelRef = useRef();\n\n  return (\n    <>\n      <Button\n        type=\"button\"\n        onClick={onOpen}\n        disabled={isDeleting}\n        colorScheme=\"teal\"\n        variant=\"outline\"\n        w={8}\n        h={8}\n        _hover={{ bg: 'teal.100' }}\n        _focus={{ bg: 'teal.100' }}\n      >\n        {isDeleting ? (\n          <CircularProgress isIndeterminate color=\"teal.800\" size=\"16px\" />\n        ) : (\n          <DeleteIcon color={'teal.700'} />\n        )}\n      </Button>\n      <AlertDialog\n        motionPreset=\"slideInBottom\"\n        leastDestructiveRef={cancelRef}\n        onClose={onClose}\n        isOpen={isOpen}\n        isCentered\n      >\n        <AlertDialogOverlay />\n\n        <AlertDialogContent>\n          <AlertDialogHeader>Discard Changes?</AlertDialogHeader>\n          <AlertDialogCloseButton />\n          <AlertDialogBody>\n            Are you sure? You can't undo this action afterwards.\n          </AlertDialogBody>\n          <AlertDialogFooter>\n            <Button ref={cancelRef} onClick={onClose} colorScheme=\"teal\">\n              No\n            </Button>\n            <Button\n              colorScheme=\"red\"\n              isLoading={isDeleting}\n              ml={3}\n              onClick={onClick}\n            >\n              Yes\n            </Button>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n};\n\nWarningAlert.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  isDeleting: PropTypes.bool,\n};\n","import { Box, ListItem, useColorModeValue } from '@chakra-ui/react';\nimport { PopoverForm } from 'components/Popover/Popover';\nimport { PropTypes } from 'prop-types';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deleteContact } from 'redux/contacts/contactsOperations';\nimport { formatContact } from 'utils';\nimport { WarningAlert } from '../AlertDialog/AlertDialog';\n\nexport const ContactItem = ({ contact }) => {\n  const [isDeleting, setIsDeleting] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleDelete = () => {\n    dispatch(deleteContact(contact.id));\n    setIsDeleting(true);\n  };\n\n  const bg = useColorModeValue('#ffffff', '#0a192f');\n  return (\n    <ListItem\n      key={contact.id}\n      paddingLeft={{ base: '12px', md: '35px', lg: '40px' }}\n      paddingRight={{ base: '12px', md: '20px' }}\n      paddingTop={1}\n      paddingBottom={1}\n      display=\"flex\"\n      alignItems=\"center\"\n      justifyContent=\"space-between\"\n      bg={bg}\n      opacity=\"0.8\"\n      borderRadius=\"5px\"\n    >\n      <Box flexBasis=\"40%\">{contact.name} </Box>\n      <Box flexBasis=\"40%\">{formatContact(contact.number)}</Box>\n      <Box\n        flexBasis=\"20%\"\n        display=\"flex\"\n        justifyContent=\"flex-end\"\n        alignItems=\"center\"\n        gap={{ base: '5px', md: '10px' }}\n      >\n        <PopoverForm contact={contact} />\n        <WarningAlert onClick={handleDelete} isDeleting={isDeleting} />\n      </Box>\n    </ListItem>\n  );\n};\n\nContactItem.propTypes = {\n  contact: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    number: PropTypes.string.isRequired,\n  }),\n};\n","import { ContactItem } from 'components/ContactItem/ContactItem';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchContacts } from 'redux/contacts/contactsOperations';\nimport {\n  selectContacts,\n  selectContactsLoading,\n  selectFilter,\n} from 'redux/selectors';\nimport {\n  Box,\n  Center,\n  CircularProgress,\n  Heading,\n  List,\n  ListItem,\n  Text,\n  useColorModeValue,\n} from '@chakra-ui/react';\n\nexport const ContactList = () => {\n  const dispatch = useDispatch();\n  const contacts = useSelector(selectContacts);\n  const filter = useSelector(selectFilter);\n  const isLoading = useSelector(selectContactsLoading);\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  const getVisibleContacts = () => {\n    let normalizedFilter = filter.toLowerCase();\n    return contacts.filter(\n      contact =>\n        contact?.name.toLowerCase().includes(normalizedFilter) ||\n        contact?.number.includes(filter)\n    );\n  };\n\n  const stickyHeaders = getVisibleContacts()\n    .map(contact => contact.name[0].toUpperCase())\n    .filter((el, index, array) => array.indexOf(el) === index);\n\n  const createContactGroup = el => {\n    const contactGroup = getVisibleContacts().filter(\n      contact => contact.name[0].toUpperCase() === el\n    );\n    return contactGroup;\n  };\n\n  const bg = useColorModeValue('teal.100', '#172a46');\n\n  return (\n    <div>\n      {contacts.length === 0 && isLoading && (\n        <Center>\n          <CircularProgress isIndeterminate color=\"teal.800\" />\n        </Center>\n      )}\n\n      {contacts.length === 0 && !isLoading && (\n        <Text textAlign=\"center\" fontSize=\"2xl\">\n          There are no contacts yet. Please add a new contact\n        </Text>\n      )}\n\n      {getVisibleContacts().length === 0 && contacts.length !== 0 && (\n        <Text>There is no such contact</Text>\n      )}\n\n      {contacts.length !== 0 && getVisibleContacts().length > 0 && (\n        <Box position=\"relative\">\n          <List position=\"relative\">\n            {stickyHeaders.map(el => (\n              <ListItem key={`section-${el}`}>\n                <List>\n                  <Heading\n                    position=\"sticky\"\n                    top=\"15px\"\n                    bg={bg}\n                    paddingLeft=\"5px\"\n                    opacity=\"0.8\"\n                    borderRadius=\"5px\"\n                  >\n                    {el}\n                  </Heading>\n                  <Box>\n                    {createContactGroup(el).map(contact => (\n                      <ContactItem key={contact.id} contact={contact} />\n                    ))}\n                  </Box>\n                </List>\n              </ListItem>\n            ))}\n          </List>\n        </Box>\n      )}\n    </div>\n  );\n};\n","import { Search2Icon } from '@chakra-ui/icons';\nimport {\n  FormControl,\n  FormLabel,\n  Input,\n  useColorModeValue,\n} from '@chakra-ui/react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setFilter } from 'redux/filterSlice';\nimport { selectContacts, selectFilter } from 'redux/selectors';\n\nexport const Filter = () => {\n  const filterValue = useSelector(selectFilter);\n  const contacts = useSelector(selectContacts);\n\n  const dispatch = useDispatch();\n\n  const bg = useColorModeValue('#ffffff', '#172a46');\n  const boxShadow = useColorModeValue(\n    '#086F83 0px 0px 10px',\n    '#5ff0d0 0px 0px 10px'\n  );\n  return (\n    <>\n      {contacts.length !== 0 && (\n        <FormControl mb={6}>\n          <FormLabel fontSize=\"lg\" fontWeight=\"600\">\n            Find contacts by name or phone number\n          </FormLabel>\n          <Input\n            name=\"filter\"\n            type=\"text\"\n            value={filterValue}\n            onChange={event => dispatch(setFilter(event.target.value))}\n            pos=\"relative\"\n            bg={bg}\n            boxShadow={boxShadow}\n          />\n          <Search2Icon\n            pos=\"absolute\"\n            top=\"50%\"\n            transform=\"translateY(50%)\"\n            right=\"16px\"\n            zIndex={2}\n          />\n        </FormControl>\n      )}\n    </>\n  );\n};\n","import { Box } from '@chakra-ui/react';\nimport { ContactForm } from 'components/ContactForm/ContactForm';\nimport { ContactList } from 'components/ContactList/ContactList';\nimport { Filter } from 'components/Filter/Filter';\n\nconst Contacts = () => {\n  return (\n    <>\n      <Box display={{ lg: 'flex' }} gap={8} alignItems=\"flex-start\">\n        <ContactForm />\n        <Box flexGrow={1}>\n          <Filter />\n          <ContactList />\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nexport default Contacts;\n"],"names":["schema","yup","name","required","min","matches","number","transform","currentValue","replace","max","ContactForm","useState","isClicked","setIsClicked","dispatch","useDispatch","contacts","useSelector","selectContacts","isLoading","selectContactsLoading","toast","useToast","useEffect","useForm","mode","resolver","yupResolver","register","handleSubmit","reset","errors","formState","bg","useColorModeValue","iconBg","onSubmit","find","contact","toLowerCase","title","isClosable","position","status","duration","addContact","unwrap","then","catch","as","mx","justifyContent","mb","p","maxH","isInvalid","isRequired","fontWeight","pointerEvents","size","I","type","placeholder","_placeholder","opacity","color","message","variant","colorScheme","EditForm","onCancel","isSubmitting","isValid","spacing","data","contactInList","updateContact","id","body","defaultValue","display","onClick","isDisabled","EditIcon","require","useDisclosure","Popover","PopoverTrigger","IconButton","PopoverContent","FocusLock","PopoverArrow","PopoverCloseButton","Portal","useRef","PopoverForm","onOpen","onClose","isOpen","firstFieldRef","initialFocusRef","closeOnBlur","w","h","icon","_hover","_focus","returnFocus","persistentFocus","formatContact","length","WarningAlert","isDeleting","cancelRef","disabled","isIndeterminate","motionPreset","leastDestructiveRef","isCentered","ref","ml","ContactItem","setIsDeleting","paddingLeft","base","md","lg","paddingRight","paddingTop","paddingBottom","alignItems","borderRadius","flexBasis","gap","deleteContact","ContactList","filter","selectFilter","fetchContacts","getVisibleContacts","normalizedFilter","includes","stickyHeaders","map","toUpperCase","el","index","array","indexOf","createContactGroup","textAlign","fontSize","top","Filter","filterValue","boxShadow","value","onChange","event","setFilter","target","pos","right","zIndex","flexGrow"],"sourceRoot":""}