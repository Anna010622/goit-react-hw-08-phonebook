{"version":3,"file":"static/js/426.e1334055.chunk.js","mappings":"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","sources":["components/ContactForm/ContactForm.jsx","components/EditForm/EditForm.jsx","components/Popover/Popover.jsx","utils/formatContact.js","components/AlertDialog/AlertDialog.jsx","components/ContactItem/ContactItem.jsx","components/ContactList/ContactList.jsx","components/Filter/Filter.jsx","pages/Contacts.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { addContact } from 'redux/contacts/contactsOperations';\nimport { selectContacts, selectContactsLoading } from 'redux/selectors';\nimport {\n  Avatar,\n  Button,\n  FormControl,\n  FormErrorMessage,\n  FormLabel,\n  Heading,\n  Input,\n  InputGroup,\n  InputLeftElement,\n  VStack,\n  useColorModeValue,\n} from '@chakra-ui/react';\nimport { useEffect, useState } from 'react';\nimport { useToast } from '@chakra-ui/react';\nimport { PhoneIcon } from '@chakra-ui/icons';\n\nexport const schema = yup\n  .object({\n    name: yup\n      .string()\n      .required('Name is required')\n      .min(3, 'Name must be no less than 3 characters long')\n      .matches(\n        /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/,\n        'Name may contain only letters, apostrophe, dash and spaces'\n      ),\n    number: yup\n      .string()\n      .required('Number is required')\n      .transform(currentValue => currentValue.replace(/\\D+/g, ''))\n      .min(7, 'Number phone must be no less than 7 characters long')\n      .max(12, 'Number phone must be no more than 12 digits'),\n    // .matches(\n    //   /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/,\n    //   'Phone number must be digits and can contain spaces, dashes, parentheses and can start with +'\n    // ),\n  })\n  .required();\n\nexport const ContactForm = () => {\n  const [isClicked, setIsClicked] = useState(false);\n  const dispatch = useDispatch();\n  const contacts = useSelector(selectContacts);\n  const isLoading = useSelector(selectContactsLoading);\n\n  const toast = useToast();\n  useEffect(() => {\n    if (!isLoading) {\n      setIsClicked(false);\n    }\n  }, [isLoading]);\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm({\n    mode: 'onTouched',\n    resolver: yupResolver(schema),\n  });\n\n  const onSubmit = ({ name, number }) => {\n    setIsClicked(true);\n    if (\n      contacts.find(\n        contact => contact.name.toLowerCase() === name.toLowerCase()\n      )\n    ) {\n      return toast({\n        title: `${name} is already in contacts`,\n        isClosable: true,\n        position: 'top-right',\n        status: 'info',\n        duration: 3000,\n      });\n    }\n\n    dispatch(addContact({ name, number }));\n    reset();\n  };\n\n  const bg = useColorModeValue('teal.50', '#0a192f');\n  const iconBg = useColorModeValue('teal.800', 'teal.500');\n\n  return (\n    <VStack\n      onSubmit={handleSubmit(onSubmit)}\n      as=\"form\"\n      mx=\"auto\"\n      justifyContent=\"center\"\n      mb={6}\n      p=\"4\"\n      maxH=\"fit\"\n    >\n      <Heading>Create new contact</Heading>\n\n      <FormControl isInvalid={errors.name} isRequired>\n        <FormLabel fontWeight=\"600\">Name</FormLabel>\n        <InputGroup>\n          <InputLeftElement pointerEvents=\"none\">\n            <Avatar bg={iconBg} size=\"xs\" />\n          </InputLeftElement>\n          <Input\n            type=\"text\"\n            placeholder=\"Enter contact name\"\n            _placeholder={{ opacity: 0.5, color: 'inherit' }}\n            {...register('name')}\n            bg={bg}\n          />\n        </InputGroup>\n        <FormErrorMessage>\n          {errors.name && errors.name.message}\n        </FormErrorMessage>\n      </FormControl>\n\n      <FormControl isInvalid={errors.number} isRequired>\n        <FormLabel fontWeight=\"600\">Phone</FormLabel>\n        <InputGroup>\n          <InputLeftElement pointerEvents=\"none\">\n            <PhoneIcon color={iconBg} />\n          </InputLeftElement>\n          <Input\n            type=\"tel\"\n            placeholder=\"Enter phone number\"\n            _placeholder={{ opacity: 0.5, color: 'inherit' }}\n            {...register('number')}\n            bg={bg}\n          />\n        </InputGroup>\n        <FormErrorMessage>\n          {errors.number && errors.number.message}\n        </FormErrorMessage>\n      </FormControl>\n\n      <Button\n        type=\"submit\"\n        variant=\"outline\"\n        colorScheme=\"teal\"\n        isLoading={isLoading && isClicked}\n      >\n        Add contact\n      </Button>\n    </VStack>\n  );\n};\n","import {\n  Button,\n  ButtonGroup,\n  FormControl,\n  FormLabel,\n  Input,\n  VStack,\n  useColorModeValue,\n  useToast,\n} from '@chakra-ui/react';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { schema } from 'components/ContactForm/ContactForm';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { updateContact } from 'redux/contacts/contactsOperations';\n\nexport const EditForm = ({ onCancel, contact }) => {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isSubmitting, isValid },\n  } = useForm({\n    mode: 'onTouched',\n    resolver: yupResolver(schema),\n  });\n  const toast = useToast();\n  const dispatch = useDispatch();\n\n  const onSubmit = data => {\n    const { name, number } = data;\n    dispatch(updateContact({ id: contact.id, body: { name, number } }))\n      .unwrap()\n      .then(() => {\n        toast({\n          title: `Contact updated`,\n          isClosable: true,\n          position: 'top-right',\n          status: 'success',\n          duration: 3000,\n        });\n        onCancel();\n      })\n      .catch(() =>\n        toast({\n          title: `Something went wrong. Please try again later`,\n          isClosable: true,\n          position: 'top-right',\n          status: 'error',\n          duration: 3000,\n        })\n      );\n  };\n\n  const bg = useColorModeValue('teal.50', '#0a192f');\n  return (\n    <VStack as=\"form\" spacing={4} onSubmit={handleSubmit(onSubmit)} p={6}>\n      <FormControl isInvalid={errors.name} isRequired>\n        <FormLabel>Name</FormLabel>\n        <Input\n          type=\"text\"\n          {...register('name')}\n          defaultValue={contact?.name}\n          bg={bg}\n        />\n      </FormControl>\n\n      <FormControl isInvalid={errors.number} isRequired>\n        <FormLabel>Phone</FormLabel>\n        <Input\n          type=\"tel\"\n          {...register('number')}\n          defaultValue={contact?.number}\n          bg={bg}\n        />\n      </FormControl>\n\n      <ButtonGroup display=\"flex\" justifyContent=\"flex-end\">\n        <Button onClick={onCancel} variant=\"outline\" colorScheme=\"teal\">\n          Cancel\n        </Button>\n        <Button\n          isLoading={isSubmitting}\n          type=\"submit\"\n          isDisabled={!isValid}\n          colorScheme=\"teal\"\n        >\n          Save\n        </Button>\n      </ButtonGroup>\n    </VStack>\n  );\n};\n","import { EditForm } from 'components/EditForm/EditForm';\n\nconst { EditIcon } = require('@chakra-ui/icons');\nconst {\n  useDisclosure,\n  Popover,\n  PopoverTrigger,\n  IconButton,\n  PopoverContent,\n  FocusLock,\n  PopoverArrow,\n  PopoverCloseButton,\n} = require('@chakra-ui/react');\n\nconst { useRef } = require('react');\n\nexport const PopoverForm = ({ contact }) => {\n  const { onOpen, onClose, isOpen } = useDisclosure();\n  const firstFieldRef = useRef(null);\n\n  return (\n    <>\n      <Popover\n        isOpen={isOpen}\n        initialFocusRef={firstFieldRef}\n        onOpen={onOpen}\n        onClose={onClose}\n        closeOnBlur={true}\n        placement=\"top\"\n      >\n        <PopoverTrigger>\n          <IconButton\n            w={8}\n            h={8}\n            icon={<EditIcon />}\n            variant=\"outline\"\n            colorScheme=\"teal\"\n            _hover={{ bg: 'teal.100' }}\n            _focus={{ bg: 'teal.100' }}\n          />\n        </PopoverTrigger>\n        <PopoverContent>\n          <FocusLock returnFocus persistentFocus={false}>\n            <PopoverArrow />\n            <PopoverCloseButton />\n            <EditForm onCancel={onClose} contact={contact} />\n          </FocusLock>\n        </PopoverContent>\n      </Popover>\n    </>\n  );\n};\n","export const formatContact = contact => {\n  let newContact;\n  if (contact.replace(/\\D+/g, '').length === 12) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{2})(\\d{3})(\\d{4}).*/, '+$1-$2-$3-$4');\n  } else if (contact.replace(/\\D+/g, '').length === 11) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{2})(\\d{2})(\\d{3})(\\d{4}).*/, '+$1-$2-$3-$4');\n  } else if (contact.replace(/\\D+/g, '').length === 10) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{3})(\\d{4}).*/, '$1-$2-$3');\n  } else if (contact.replace(/\\D+/g, '').length === 9) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{2})(\\d{3})(\\d{4}).*/, '$1-$2-$3');\n  } else if (contact.replace(/\\D+/g, '').length === 7) {\n    newContact = contact\n      .replace(/\\D+/g, '')\n      .replace(/^(\\d{3})(\\d{4}).*/, '$1-$2');\n  } else newContact = contact;\n\n  return newContact;\n};\n","import { DeleteIcon } from '@chakra-ui/icons';\nimport {\n  AlertDialog,\n  AlertDialogBody,\n  AlertDialogCloseButton,\n  AlertDialogContent,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogOverlay,\n  Button,\n  CircularProgress,\n  useDisclosure,\n} from '@chakra-ui/react';\nimport { PropTypes } from 'prop-types';\nimport { useRef } from 'react';\n\nexport const WarningAlert = ({ onClick, isDeleting }) => {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const cancelRef = useRef();\n\n  return (\n    <>\n      <Button\n        type=\"button\"\n        onClick={onOpen}\n        disabled={isDeleting}\n        colorScheme=\"teal\"\n        variant=\"outline\"\n        w={8}\n        h={8}\n        _hover={{ bg: 'teal.100' }}\n        _focus={{ bg: 'teal.100' }}\n      >\n        {isDeleting ? (\n          <CircularProgress isIndeterminate color=\"teal.800\" size=\"16px\" />\n        ) : (\n          <DeleteIcon color={'teal.700'} />\n        )}\n      </Button>\n      <AlertDialog\n        motionPreset=\"slideInBottom\"\n        leastDestructiveRef={cancelRef}\n        onClose={onClose}\n        isOpen={isOpen}\n        isCentered\n      >\n        <AlertDialogOverlay />\n\n        <AlertDialogContent>\n          <AlertDialogHeader>Discard Changes?</AlertDialogHeader>\n          <AlertDialogCloseButton />\n          <AlertDialogBody>\n            Are you sure? You can't undo this action afterwards.\n          </AlertDialogBody>\n          <AlertDialogFooter>\n            <Button ref={cancelRef} onClick={onClose} colorScheme=\"teal\">\n              No\n            </Button>\n            <Button\n              colorScheme=\"red\"\n              isLoading={isDeleting}\n              ml={3}\n              onClick={onClick}\n            >\n              Yes\n            </Button>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n};\n\nWarningAlert.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  isDeleting: PropTypes.bool,\n};\n","import { Box, ListItem, useColorModeValue } from '@chakra-ui/react';\nimport { PopoverForm } from 'components/Popover/Popover';\nimport { PropTypes } from 'prop-types';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deleteContact } from 'redux/contacts/contactsOperations';\nimport { formatContact } from 'utils';\nimport { WarningAlert } from '../AlertDialog/AlertDialog';\n\nexport const ContactItem = ({ contact }) => {\n  const [isDeleting, setIsDeleting] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleDelete = () => {\n    dispatch(deleteContact(contact.id));\n    setIsDeleting(true);\n  };\n\n  const bg = useColorModeValue('#ffffff', '#0a192f');\n  return (\n    <ListItem\n      key={contact.id}\n      paddingLeft={{ base: '12px', md: '35px', lg: '40px' }}\n      paddingRight={{ base: '12px', md: '20px' }}\n      paddingTop={1}\n      paddingBottom={1}\n      display=\"flex\"\n      alignItems=\"center\"\n      justifyContent=\"space-between\"\n      bg={bg}\n      opacity=\"0.8\"\n      borderRadius=\"5px\"\n    >\n      <Box flexBasis=\"40%\">{contact.name} </Box>\n      <Box flexBasis=\"40%\">{formatContact(contact.number)}</Box>\n      <Box\n        flexBasis=\"20%\"\n        display=\"flex\"\n        justifyContent=\"flex-end\"\n        alignItems=\"center\"\n        gap={{ base: '5px', md: '10px' }}\n      >\n        <PopoverForm contact={contact} />\n        <WarningAlert onClick={handleDelete} isDeleting={isDeleting} />\n      </Box>\n    </ListItem>\n  );\n};\n\nContactItem.propTypes = {\n  contact: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    number: PropTypes.string.isRequired,\n  }),\n};\n","import { ContactItem } from 'components/ContactItem/ContactItem';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchContacts } from 'redux/contacts/contactsOperations';\nimport {\n  selectContacts,\n  selectContactsLoading,\n  selectFilter,\n} from 'redux/selectors';\nimport {\n  Box,\n  Center,\n  CircularProgress,\n  Heading,\n  List,\n  ListItem,\n  Text,\n  useColorModeValue,\n} from '@chakra-ui/react';\n\nexport const ContactList = () => {\n  const dispatch = useDispatch();\n  const contacts = useSelector(selectContacts);\n  const filter = useSelector(selectFilter);\n  const isLoading = useSelector(selectContactsLoading);\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  const getVisibleContacts = () => {\n    let normalizedFilter = filter.toLowerCase();\n    return contacts.filter(contact =>\n      contact?.name.toLowerCase().includes(normalizedFilter)\n    );\n  };\n\n  const stickyHeaders = getVisibleContacts()\n    .map(contact => contact.name[0].toUpperCase())\n    .filter((el, index, array) => array.indexOf(el) === index);\n\n  const createContactGroup = el => {\n    const contactGroup = getVisibleContacts().filter(\n      contact => contact.name[0].toUpperCase() === el\n    );\n    return contactGroup;\n  };\n\n  const bg = useColorModeValue('teal.100', '#172a46');\n\n  return (\n    <div>\n      {/* {error && <p>Something went wrong, please try again later</p>} */}\n      {contacts.length === 0 && isLoading && (\n        <Center>\n          <CircularProgress isIndeterminate color=\"teal.800\" />\n        </Center>\n      )}\n\n      {contacts.length === 0 && !isLoading && (\n        <Text textAlign=\"center\" fontSize=\"2xl\">\n          There are no contacts yet. Please add a new contact\n        </Text>\n      )}\n      {getVisibleContacts().length === 0 && contacts.length !== 0 && (\n        <Text>There is no such contact</Text>\n      )}\n\n      {contacts.length !== 0 && getVisibleContacts().length > 0 && (\n        <Box position=\"relative\">\n          <List position=\"relative\">\n            {stickyHeaders.map(el => (\n              <ListItem key={`section-${el}`}>\n                <List>\n                  <Heading\n                    position=\"sticky\"\n                    top=\"15px\"\n                    bg={bg}\n                    paddingLeft=\"5px\"\n                    opacity=\"0.8\"\n                    borderRadius=\"5px\"\n                  >\n                    {el}\n                  </Heading>\n                  <Box>\n                    {createContactGroup(el).map(contact => (\n                      <ContactItem key={contact.id} contact={contact} />\n                    ))}\n                  </Box>\n                </List>\n              </ListItem>\n            ))}\n          </List>\n        </Box>\n      )}\n    </div>\n  );\n};\n","import { Search2Icon } from '@chakra-ui/icons';\nimport {\n  FormControl,\n  FormLabel,\n  Input,\n  useColorModeValue,\n} from '@chakra-ui/react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setFilter } from 'redux/filterSlice';\nimport { selectContacts, selectFilter } from 'redux/selectors';\n\nexport const Filter = () => {\n  const filterValue = useSelector(selectFilter);\n  const contacts = useSelector(selectContacts);\n\n  const dispatch = useDispatch();\n\n  const bg = useColorModeValue('#ffffff', '#172a46');\n  const boxShadow = useColorModeValue(\n    '#086F83 0px 0px 10px',\n    '#5ff0d0 0px 0px 10px'\n  );\n  return (\n    <>\n      {contacts.length !== 0 && (\n        <FormControl mb={6}>\n          <FormLabel fontSize=\"lg\" fontWeight=\"600\">\n            Find contacts by name\n          </FormLabel>\n          <Input\n            name=\"filter\"\n            type=\"text\"\n            value={filterValue}\n            onChange={event => dispatch(setFilter(event.target.value))}\n            pos=\"relative\"\n            bg={bg}\n            boxShadow={boxShadow}\n          />\n          <Search2Icon\n            pos=\"absolute\"\n            top=\"50%\"\n            transform=\"translateY(50%)\"\n            right=\"16px\"\n            zIndex={2}\n          />\n        </FormControl>\n      )}\n    </>\n  );\n};\n","import { Box } from '@chakra-ui/react';\nimport { ContactForm } from 'components/ContactForm/ContactForm';\nimport { ContactList } from 'components/ContactList/ContactList';\nimport { Filter } from 'components/Filter/Filter';\n\nconst Contacts = () => {\n  return (\n    <>\n      <Box display={{ lg: 'flex' }} gap={8} alignItems=\"flex-start\">\n        <ContactForm />\n        <Box flexGrow={1}>\n          <Filter />\n          <ContactList />\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nexport default Contacts;\n"],"names":["schema","yup","name","required","min","matches","number","transform","currentValue","replace","max","ContactForm","useState","isClicked","setIsClicked","dispatch","useDispatch","contacts","useSelector","selectContacts","isLoading","selectContactsLoading","toast","useToast","useEffect","useForm","mode","resolver","yupResolver","register","handleSubmit","reset","errors","formState","bg","useColorModeValue","iconBg","onSubmit","find","contact","toLowerCase","title","isClosable","position","status","duration","addContact","as","mx","justifyContent","mb","p","maxH","isInvalid","isRequired","fontWeight","pointerEvents","size","I","type","placeholder","_placeholder","opacity","color","message","variant","colorScheme","EditForm","onCancel","isSubmitting","isValid","spacing","data","updateContact","id","body","unwrap","then","catch","defaultValue","display","onClick","isDisabled","EditIcon","require","useDisclosure","Popover","PopoverTrigger","IconButton","PopoverContent","FocusLock","PopoverArrow","PopoverCloseButton","useRef","PopoverForm","onOpen","onClose","isOpen","firstFieldRef","initialFocusRef","closeOnBlur","placement","w","h","icon","_hover","_focus","returnFocus","persistentFocus","formatContact","length","WarningAlert","isDeleting","cancelRef","disabled","isIndeterminate","motionPreset","leastDestructiveRef","isCentered","ref","ml","ContactItem","setIsDeleting","paddingLeft","base","md","lg","paddingRight","paddingTop","paddingBottom","alignItems","borderRadius","flexBasis","gap","deleteContact","ContactList","filter","selectFilter","fetchContacts","getVisibleContacts","normalizedFilter","includes","stickyHeaders","map","toUpperCase","el","index","array","indexOf","createContactGroup","textAlign","fontSize","top","Filter","filterValue","boxShadow","value","onChange","event","setFilter","target","pos","right","zIndex","flexGrow"],"sourceRoot":""}